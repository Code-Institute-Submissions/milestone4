{% extends 'base.html' %} {% block content %}

<section class="hero">
  <div class="slider home-slider">
    <div class="fixed-item">
      <div class="container">
        <div class="row">
          <div class="col s12 center">
            <h1>FiCoEa</h1>
            <h2>Find It, Cook It, Eat It</h2>
          </div>
        </div>

        <div class="row">
          <div class="col s12 center">
            <div class="col s12 m6 l6 xl4 offset-xl2">
              <a href="#search-modal" class="btn-large waves-effect amber accent-2 blue-grey-text text-darken-4 modal-trigger"><i class="material-icons left">search</i>Find A Recipe</a>
            </div>


            <div class="col s12 m6 l6 xl4">
              <a href="{{ url_for('add_recipe') }}" class="btn-large waves-effect green accent-2 blue-grey-text text-darken-4"><i class="material-icons left">add</i>Add A Recipe</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ul class="slides">
      <li>
        <img src="{{ url_for('static', filename='img/food-3.jpg')}}">
      </li>
      <li>
        <img src="{{ url_for('static', filename='img/food-2.jpg')}}">
      </li>
      <li>
        <img src="{{ url_for('static', filename='img/food-1.jpg')}}">
      </li>
    </ul>
  </div>
</section>

<section class="top-recipes">
  <div class="container">
    <div class="row">
      <div class="col s12 m8 l6">
        <h3>Check Out Our Top Recipes</h3>
        <p>As Voted By Our Users, if you like a recipe don't forget to +1 that Golden Oven Mitt</p>
      </div>
    </div>

    <div class="row">
      
      {% for recipe in recipes %}
        {% include "_includes/recipe-card.html" %}
      {% endfor %}

    </div>
  </div>
</section>

<section class="cta">
  <div class="container">
    <div class="row">
      <div class="col s12 center-align">
        <a href="{{ url_for('recipes') }}" class="btn-large waves-effect amber accent-2 blue-grey-text text-darken-4">View All Recipes</a>
      </div>
    </div>
  </div>
</section>

{% endblock %}


{% block additional_scripts %}

<script>
  
  var json_titles = {{ titles | safe }};
    
    console.log(json_titles);
    var titles = [];
    for (i in json_titles) {
      var x = json_titles[i];

      for (var key in x) {
        titles.push(x[key]);
      }
    }
    console.log(titles);
    
    titles_json = {};
    
    for ( i in titles ) {
      titles_json[titles[i]] = ""
    }
    
    
    
    console.log(titles_json);
    
    $('input.autocomplete').autocomplete({
      data: titles_json
    });
  
</script>

{% endblock %}


